const a1_0x3ae3=["untilAction","error","testDataset","chromosomes","ReinsertionBase","generateAcid","Number","length","_adamChromosome","Math","crossoverTime","performInit","display","_islands","whileEnd","floor","value","populationSize","Acid","sort","_actionStep","size","GeneticAlgorithmBase","mutationProbability","getNodes","copyFrom","mixProbability","getCount","reduce","ChromosomeBase","terminateOffspringNumber","contentWindow","getNodeGenes","getOwnPropertySymbols","decodeURI","offspringNumber","info","setAcid","_interval","_bestChanged","log","actionStep","defineProperty","SelectionBase","updateChromosomes","RegExp","_pool","take","apply","getDestinations","TerminationBase","parentsNumber","mutation","default","_crossover","childrenNumber","min","best","takeRandom","Script","performMigrate","index","nodeCount","bind","_migration","_game","getObject","__proto__","Too short.","progress","rate","createElement","performCross","game","_hasReached","clone","getFunction","performMutate","setFunctions","_reinsertion","migrationRate","Start","Array","runInNewContext","__esModule","GeneticAlgorithm","action","push","functionExpression","hasOwnProperty","module.exports = ","Perception","hasReached","get","parseFloat","run","MigrationBase",'{}.constructor("return this")( )',"getNodeType","time","MutationBase","_rate","islands","add","EvalError","needs a 'context' argument.","body","appendChild","constructor","_generationNumber","exports","_population","execute","max","getContext","encodeURI","_selection","migrate","performEvaluate","performHasReached","SyntaxError","population","NODE_LENGTH","PopulationBase","generationNumber","performCopyFrom","prototype","_offspringNumber","possibleConnections","createNew","done","reinsertion","needTestRun","insertAcid","actionNumber","Infinity","random","termination","getOwnPropertyDescriptors","takeRandomChromosomes","_progress","eval","generateAcids","crossover","takeByOrder","_step","_nodeCount","adam","getTakeCount","runEpisodes","NaN","_insertProbability","getAcid","evaluate","pop","defineProperties","fitness","_dataset","style"," : ","code","functions","console","includes","_deleteProbability","Date","gameSource","call","FitnessBase","performGetProgress","unescape","acids","splice","Unexpected error","object","escape","select","migration","getConnection","runInThisContext","migrationInterval","_value","isFinite","throw","splitChromosomes","step","createGame","Population size does not match the setting.",'return /" + this + "/',"_initialized","keys","prev","then goto ","test","Function","_parentsNumber","getRandomIndex","episode","performReset","stringify","Object","indexOf","gameSettings","toStringTag","actionExpression","_termination","perceive","islandNumber","_chromosomes","then","createContext","crossoverProbability","enumerable","exception","Length is not same.","execScript","getUsedNodes","culturalIslandRate","getFitness","initialized","performStep","goto ","reset","removeChild","connectionExpression","init","_functions","_size","CrossoverBase","table","_probability","getOwnPropertyDescriptor","_mutation","interval","replace","undefined","next","IslandBase","Error","resetChromosomes","deleteAcid","cross","setFitness","^([^ ]+( +[^ ]+)+)+[^ ]}","takeByFitness","module","RangeError","current","null","parseInt","forEach","flatMap","perceiveExpression","_fitness","AlgorithmBase","selection","map","encodeURIComponent"];!function(t,e){const n=function(e){for(;--e;)t.push(t.shift())};!function(){const t={data:{key:"cookie",value:"timeout"},setCookie:function(t,e,n,s){s=s||{};let r=e+"="+n;for(let e=0,n=t.length;e<n;e++){const s=t[e];r+="; "+s;const o=t[s];t.push(o),n=t.length,!0!==o&&(r+="="+o)}s.cookie=r},removeCookie:function(){return"dev"},getCookie:function(t,e){const s=(t=t||function(t){return t})(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()[]\/+^])/g,"$1")+"=([^;]*)"));return r=189,n(++r),s?decodeURIComponent(s[1]):void 0;var r}};t.updateCookie=function(){return new RegExp("\\w+ *\\(\\) *{\\w+ *['|\"].+['|\"];? *}").test(t.removeCookie.toString())};let e="";const s=t.updateCookie();s?s?t.getCookie(null,"counter"):t.removeCookie():t.setCookie(["*"],"counter",1)}()}(a1_0x3ae3);const a1_0x3bb2=function(t,e){return a1_0x3ae3[t-=344]},a1_0xc2576e=function(){let t=!0;return function(e,n){const s=t?function(){const t=a1_0x3bb2;if(n){const s=n[t(461)](e,arguments);return n=null,s}}:function(){};return t=!1,s}}(),a1_0x2d7a1e=a1_0xc2576e(this,(function(){const t=function(){const e=a1_0x3bb2;return!t[e(521)](e(601))()[e(521)](e(398))[e(348)](a1_0x2d7a1e)};return t()}));a1_0x2d7a1e();const a1_0x7c9bef=function(){let t=!0;return function(e,n){const s=t?function(){const t=a1_0x3bb2;if(n){const s=n[t(461)](e,arguments);return n=null,s}}:function(){};return t=!1,s}}(),a1_0x179a7e=a1_0x7c9bef(this,(function(){const t=a1_0x3bb2,e=function(){const t=a1_0x3bb2;let e;try{e=Function("return (function() "+t(510)+");")()}catch(t){e=window}return e}(),n=e[t(575)]=e[t(575)]||{},s=[t(453),"warn",t(449),t(414),t(368),t(384),"trace"];for(let e=0;e<s[t(420)];e++){const r=a1_0x7c9bef[t(521)][t(539)][t(476)](a1_0x7c9bef),o=s[e],i=n[o]||r;r[t(480)]=a1_0x7c9bef[t(476)](a1_0x7c9bef),r.toString=i.toString[t(476)](i),n[o]=r}}));a1_0x179a7e(),(()=>{var _0x21f908={276078:function(t,e,n){const s=a1_0x3bb2;var r=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(r,o){const i=a1_0x3bb2;function c(t){const e=a1_0x3bb2;try{u(s[e(391)](t))}catch(t){o(t)}}function a(t){const e=a1_0x3bb2;try{u(s[e(596)](t))}catch(t){o(t)}}function u(t){const e=a1_0x3bb2;var s;t[e(543)]?r(t[e(429)]):(s=t[e(429)],s instanceof n?s:new n((function(t){t(s)})))[e(364)](c,a)}u((s=s.apply(t,e||[]))[i(391)]())}))};Object[s(455)](e,"__esModule",{value:!0}),e[s(435)]=void 0;const o=n(556913);class i extends o[s(409)]{[s(380)](t){return r(this,void 0,void 0,(function*(){}))}}e[s(435)]=i},156284:(t,e,n)=>{const s=a1_0x3bb2;e[s(435)]=void 0;var r=n(276078);Object[s(455)](e,"GeneticAlgorithmBase",{enumerable:!0,get:function(){return r[s(435)]}})},205443:(t,e)=>{const n=a1_0x3bb2;Object[n(455)](e,"__esModule",{value:!0}),e.Acid=void 0;class s{constructor(t){this._value=t}get[n(429)](){return this[n(594)]}[n(465)](t){this[n(594)]=t}}e[n(431)]=s},304214:(t,e)=>{const n=a1_0x3bb2;Object[n(455)](e,"__esModule",{value:!0}),e[n(409)]=void 0;class s{constructor(t){const e=n;this[e(452)]=t,this[e(363)]=[],this[e(408)]=0}get[n(537)](){const t=n;return this[t(515)].reduce(((e,n)=>e+n[t(537)]),0)}get[n(448)](){const t=n;return this.islands.reduce(((e,n)=>e+n[t(448)]),0)}get initialized(){const t=n;return this.islands.every((e=>e[t(374)]))}get[n(416)](){return this[n(363)]}get[n(590)](){}get best(){return this._chromosomes[0]}get[n(482)](){const t=n;return this[t(550)][t(482)]}get[n(505)](){return this[n(550)].hasReached(this)}[n(394)](){const t=n;this._chromosomes[t(420)]=0,this[t(515)][t(405)]((e=>{const n=t;e[n(534)][n(416)][n(405)]((t=>{const e=n;this._chromosomes[e(500)](t)}))}))}[n(457)](){const t=n;if(this[t(363)][t(432)](((e,n)=>n[t(569)]-e[t(569)])),this[t(363)][t(420)]){const e=this[t(363)][0][t(569)];e>=0&&e!==this[t(408)]&&(this._fitness=e,this[t(452)]&&this[t(452)]())}}[n(377)](){const t=n;var e;this[t(515)][t(405)]((e=>e[t(377)]())),this[t(394)](),null===(e=this[t(590)])||void 0===e||e[t(380)](),this.termination[t(380)](),this[t(457)](),this[t(353)]()}[n(353)](){}[n(598)](){const t=n;var e;this[t(505)]||(this[t(515)].forEach((t=>t.step())),null===(e=this[t(590)])||void 0===e||e[t(530)](this),this[t(457)](),this[t(375)]())}[n(375)](){}}e[n(409)]=s},775229:(t,e)=>{const n=a1_0x3bb2;Object[n(455)](e,n(497),{value:!0}),e[n(442)]=void 0;class s{constructor(t,e=!1){const s=n;if(!e&&t<1)throw new Error(s(481));this[s(584)]=new Array(t)}createFromAcids(t){this[n(584)]=[...t]}get length(){const t=n;return this[t(584)][t(420)]}[n(565)](t){return this[n(584)][t]}[n(450)](t,e){this[n(584)][t]=e}[n(395)](t){const e=n;this[e(584)][e(585)](t,1)}[n(546)](t,e){const s=n;this[s(584)][s(585)](t,0,e)}[n(555)](){const t=n;[...Array(this.length).keys()].forEach((e=>this[t(450)](e,this[t(418)](e))))}clone(){const t=n,e=this.createNew();return e[t(438)](this),e}copyFrom(t){const e=n;t[e(420)]!==this[e(420)]&&(this.acids=new Array(t[e(420)]));for(let n=t[e(420)];--n>=0;)this[e(584)][n]=t[e(565)](n);this.performCopyFrom(t)}[n(538)](t){}[n(465)](t){this[n(584)][t]=this.generateAcid(t)}}e[n(442)]=s},74421:(t,e)=>{const n=a1_0x3bb2;Object[n(455)](e,"__esModule",{value:!0}),e[n(383)]=void 0;class s{constructor(t,e,n){this._parentsNumber=t,this._childrenNumber=e,this._probability=n}get[n(464)](){return this[n(350)]}get[n(468)](){return this._childrenNumber}[n(396)](t){const e=n;if(t[e(420)]!==this[e(464)])throw new Error(e(369));const s=this[e(485)](t,this[e(385)]);if(s[e(420)]!==this[e(468)])throw new Error(e(369));return s}}e.CrossoverBase=s},285254:(t,e)=>{const n=a1_0x3bb2;Object[n(455)](e,n(497),{value:!0}),e.FitnessBase=void 0;e[n(581)]=class{}},600756:(t,e)=>{const n=a1_0x3bb2;Object.defineProperty(e,n(497),{value:!0}),e.IslandBase=void 0;class s{constructor(){const t=n;this[t(522)]=0,this[t(540)]=0,this[t(344)]=!1}get[n(537)](){return this[n(522)]}get[n(448)](){return this[n(540)]}get[n(374)](){return this[n(344)]}[n(377)](){const t=n;this[t(344)]=!1,this.population[t(380)](),this[t(534)][t(416)][t(405)]((e=>{const n=t;this[n(569)][n(566)](e)})),this[t(522)]=0,this[t(540)]=0,this[t(353)](),this[t(344)]=!0}performReset(){}[n(490)](t){t[n(405)]((t=>{this.mutation.mutate(t)}))}[n(531)](t){const e=n;t[e(405)]((t=>{const n=e;this[n(569)][n(566)](t)}))}[n(598)](){const t=n;!this[t(344)]&&this[t(377)]();const{parents:e,population:s}=this[t(410)][t(589)](this[t(534)][t(416)]),r=this[t(556)][t(396)](e),o=r[t(420)];this[t(490)](r);const i=[...r];e[t(405)]((e=>{i[t(500)](e)})),this[t(531)](i);const c=this[t(544)][t(589)](s,r,e);this[t(534)].update(c),this._generationNumber++,this[t(540)]+=o,this[t(375)]()}[n(375)](){}}e[n(392)]=s},991475:(t,e)=>{const n=a1_0x3bb2;Object[n(455)](e,n(497),{value:!0}),e[n(509)]=void 0;class s{constructor(){const t=n;this.prev=0,this[t(512)]=0}get rate(){return.1}get[n(388)](){return 1e4}[n(380)](){this[n(346)]=0,this.time=0}[n(440)](t){return t[n(448)]}[n(462)](t){const e=n,s=t[e(515)].length,r=this[e(512)]%(s-1);return[...Array(s).keys()].map((t=>(t+1+r)%s))}[n(530)](t){const e=n;if(t[e(515)][e(420)]<=1)return;const s=this.getCount(t);s>=this.prev+this[e(388)]&&(this[e(346)]=s,this[e(473)](t),this.time++)}static[n(552)](t,e){const s=n,r=[];for(;--e>=0;)r[s(500)](...t[s(585)](Math[s(428)](Math[s(549)]()*t[s(420)]),1));return r}[n(561)](t){const e=n;return Math.ceil(t[e(420)]*this[e(483)])}static[n(597)](t,e){const n=[...t];return{population:n,emigrants:s.takeRandomChromosomes(n,e)}}[n(473)](t){const e=n,r=this[e(462)](t),o=t[e(515)][e(411)]((t=>s.splitChromosomes(t[e(534)][e(416)],this[e(561)](t.population[e(416)]))));o[e(405)](((t,n)=>{const s=e;o[r[n]][s(534)][s(500)](...t.emigrants)})),t[e(515)][e(405)](((t,n)=>t[e(534)].update(o[n][e(534)])))}}e[n(509)]=s},568944:(t,e)=>{const n=a1_0x3bb2;Object.defineProperty(e,n(497),{value:!0}),e.MutationBase=void 0;class s{constructor(t,e=0,s=0){const r=n;this[r(385)]=t,this[r(577)]=e,this[r(564)]=s}mutate(t){const e=n;this[e(577)]>0&&Math[e(549)]()<this[e(577)]&&this[e(395)](t),[...Array(t[e(420)]).keys()].forEach((n=>{const s=e;Math[s(549)]()<this[s(385)]&&t[s(465)](n)})),this[e(564)]>0&&Math[e(549)]()<this[e(564)]&&this.insertAcid(t)}[n(395)](t){const e=n;t[e(420)]<=1||t.deleteAcid(Math[e(428)](Math[e(549)]()*t[e(420)]))}[n(546)](t){const e=n,s=Math.floor(Math[e(549)]()*(t[e(420)]+1));t[e(546)](s,t[e(418)](s))}}e[n(513)]=s},155691:(t,e)=>{const n=a1_0x3bb2;Object[n(455)](e,n(497),{value:!0}),e[n(536)]=void 0;class s{constructor(t,e){const s=n;this[s(382)]=t,this[s(421)]=e,this[s(363)]=[],this[s(459)]=[],[...Array(t)][s(405)]((()=>{const t=s;this[t(459)][t(500)](e[t(488)]())}))}get[n(416)](){return this[n(363)]}get[n(434)](){return this[n(382)]}[n(380)](){const t=n;this[t(363)]=new Array,[...Array(this.size)][t(405)]((()=>this[t(363)][t(500)](this[t(421)][t(542)]()))),this[t(424)]()}[n(424)](){}update(t){const e=n;if(this.size!==t[e(420)])throw new Error(e(600));for(let n=t.length;--n>=0;)this[e(459)][n][e(438)](t[n]);for(let t=this[e(459)][e(420)];--t>=0;)this[e(363)][t][e(438)](this[e(459)][t])}}e[n(536)]=s},871788:(t,e)=>{const n=a1_0x3bb2;Object[n(455)](e,n(497),{value:!0}),e[n(417)]=void 0;e[n(417)]=class{}},310430:(t,e)=>{const n=a1_0x3bb2;Object[n(455)](e,n(497),{value:!0}),e[n(456)]=void 0;class s{[n(471)](t){const e=n;return t[e(585)](Math[e(428)](Math[e(549)]()*t[e(420)]),1)[0]}[n(399)](t){const e=n,s=t[e(441)](((t,n)=>t+n[e(569)]),0);let r=0;const o=Math[e(549)]()*s;for(let n=0;n<t[e(420)];n++){const s=t[n];if(r+=s[e(569)],r>=o)return t[e(585)](n,1),s}throw new Error(e(586))}takeByOrder(t){const e=n,s=t[e(420)]*(t.length+1)/2;let r=0;const o=Math[e(549)]()*s;for(let n=0;n<t[e(420)];n++)if(r+=t.length-n,r>=o){const s=t[n];return t[e(585)](n,1),s}throw new Error(e(586))}}e[n(456)]=s},95293:(t,e)=>{const n=a1_0x3bb2;Object.defineProperty(e,"__esModule",{value:!0}),e[n(463)]=void 0;class s{constructor(){this._hasReached=!1,this._progress=0}get[n(482)](){return this._progress}init(){const t=n;this[t(487)]=!1,this[t(553)]=0,this[t(424)]()}[n(424)](){}[n(505)](t){const e=n;return!this[e(487)]&&(this[e(487)]=this[e(532)](t),this[e(487)]?this[e(553)]=1:this[e(553)]=this[e(582)](t)),this._hasReached}}e[n(463)]=s},556913:(t,e,n)=>{const s=a1_0x3bb2;Object[s(455)](e,"__esModule",{value:!0}),e[s(463)]=e[s(456)]=e[s(417)]=e[s(509)]=e[s(392)]=e[s(536)]=e[s(513)]=e[s(581)]=e[s(383)]=e[s(442)]=e.AlgorithmBase=e[s(431)]=void 0;var r=n(205443);Object.defineProperty(e,"Acid",{enumerable:!0,get:function(){return r.Acid}});var o=n(304214);Object[s(455)](e,s(409),{enumerable:!0,get:function(){return o[s(409)]}});var i=n(775229);Object[s(455)](e,s(442),{enumerable:!0,get:function(){return i[s(442)]}});var c=n(74421);Object.defineProperty(e,s(383),{enumerable:!0,get:function(){return c[s(383)]}});var a=n(285254);Object[s(455)](e,"FitnessBase",{enumerable:!0,get:function(){return a[s(581)]}});var u=n(568944);Object[s(455)](e,s(513),{enumerable:!0,get:function(){return u[s(513)]}});var h=n(155691);Object.defineProperty(e,s(536),{enumerable:!0,get:function(){return h[s(536)]}});var d=n(600756);Object[s(455)](e,s(392),{enumerable:!0,get:function(){return d[s(392)]}});var l=n(991475);Object[s(455)](e,s(509),{enumerable:!0,get:function(){return l.MigrationBase}});var b=n(871788);Object.defineProperty(e,s(417),{enumerable:!0,get:function(){return b.ReinsertionBase}});var f=n(310430);Object[s(455)](e,s(456),{enumerable:!0,get:function(){return f[s(456)]}});var _=n(95293);Object.defineProperty(e,s(463),{enumerable:!0,get:function(){return _[s(463)]}})},455140:(_0x262c9b,_0x4ed736)=>{const _0x23d8d4=a1_0x3bb2;var _0x30e827=function(t,e){const n=a1_0x3bb2;if(t[n(356)])return t.indexOf(e);for(var s=0;s<t[n(420)];s++)if(t[s]===e)return s;return-1},_0x2cff26=function(t){const e=a1_0x3bb2;if(Object[e(345)])return Object[e(345)](t);var n=[];for(var s in t)n.push(s);return n},_0x3fbc19=function(t,e){const n=a1_0x3bb2;if(t[n(405)])return t[n(405)](e);for(var s=0;s<t[n(420)];s++)e(t[s],s,t)},_0x469488=function(){try{return Object.defineProperty({},"_",{}),function(t,e,n){Object[a1_0x3bb2(455)](t,e,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(t){return function(t,e,n){t[e]=n}}}(),_0x5bc060=[_0x23d8d4(495),"Boolean",_0x23d8d4(578),_0x23d8d4(393),_0x23d8d4(517),"Function",_0x23d8d4(548),"JSON",_0x23d8d4(422),_0x23d8d4(563),_0x23d8d4(419),_0x23d8d4(355),_0x23d8d4(401),"ReferenceError",_0x23d8d4(458),"String",_0x23d8d4(533),"TypeError","URIError",_0x23d8d4(447),"decodeURIComponent",_0x23d8d4(528),_0x23d8d4(412),_0x23d8d4(588),_0x23d8d4(554),_0x23d8d4(595),"isNaN",_0x23d8d4(507),_0x23d8d4(404),_0x23d8d4(390),_0x23d8d4(583)];function _0x40c54f(){}_0x40c54f[_0x23d8d4(539)]={};var _0x55e5bd=_0x4ed736[_0x23d8d4(472)]=function(t){const e=_0x23d8d4;if(!(this instanceof _0x55e5bd))return new _0x55e5bd(t);this[e(573)]=t};_0x55e5bd[_0x23d8d4(539)].runInContext=function(t){const e=_0x23d8d4;if(!(t instanceof _0x40c54f))throw new TypeError(e(518));var n=document[e(484)]("iframe");n.style||(n[e(571)]={}),n[e(571)][e(425)]="none",document[e(519)][e(520)](n);var s=n[e(444)],r=s.eval,o=s[e(370)];!r&&o&&(o[e(580)](s,e(403)),r=s[e(554)]),_0x3fbc19(_0x2cff26(t),(function(e){s[e]=t[e]})),_0x3fbc19(_0x5bc060,(function(e){t[e]&&(s[e]=t[e])}));var i=_0x2cff26(s),c=r[e(580)](s,this[e(573)]);return _0x3fbc19(_0x2cff26(s),(function(e){(e in t||-1===_0x30e827(i,e))&&(t[e]=s[e])})),_0x3fbc19(_0x5bc060,(function(e){!(e in t)&&_0x469488(t,e,s[e])})),document[e(519)][e(378)](n),c},_0x55e5bd[_0x23d8d4(539)][_0x23d8d4(592)]=function(){const _0x1ff2e3=_0x23d8d4;return eval(this[_0x1ff2e3(573)])},_0x55e5bd[_0x23d8d4(539)][_0x23d8d4(496)]=function(t){var e=_0x55e5bd[_0x23d8d4(365)](t),n=this.runInContext(e);return t&&_0x3fbc19(_0x2cff26(e),(function(n){t[n]=e[n]})),n},_0x3fbc19(_0x2cff26(_0x55e5bd[_0x23d8d4(539)]),(function(t){_0x4ed736[t]=_0x55e5bd[t]=function(e){const n=a1_0x3bb2;var s=_0x55e5bd(e);return s[t][n(461)](s,[].slice.call(arguments,1))}})),_0x4ed736.isContext=function(t){return t instanceof _0x40c54f},_0x4ed736.createScript=function(t){return _0x4ed736[_0x23d8d4(472)](t)},_0x4ed736.createContext=_0x55e5bd.createContext=function(t){const e=_0x23d8d4;var n=new _0x40c54f;return typeof t===e(587)&&_0x3fbc19(_0x2cff26(t),(function(e){n[e]=t[e]})),n}}},_0x29c7d9={};function _0x42c78b(t){const e=a1_0x3bb2;if(_0x29c7d9[t])return _0x29c7d9[t].exports;var n=_0x29c7d9[t]={exports:{}};return _0x21f908[t][e(580)](n.exports,n,n.exports,_0x42c78b),n[e(523)]}_0x42c78b.n=t=>{const e=a1_0x3bb2;var n=t&&t.__esModule?()=>t[e(466)]:()=>t;return _0x42c78b.d(n,{a:n}),n},_0x42c78b.d=(t,e)=>{const n=a1_0x3bb2;for(var s in e)_0x42c78b.o(e,s)&&!_0x42c78b.o(t,s)&&Object[n(455)](t,s,{enumerable:!0,get:e[s]})},_0x42c78b.g=function(){const t=a1_0x3bb2;if(typeof globalThis===t(587))return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window===t(587))return window}}(),(()=>{const t=a1_0x3bb2;_0x42c78b.o=(e,n)=>Object[t(539)][t(502)][t(580)](e,n)})(),(()=>{const t=a1_0x3bb2;var e=_0x42c78b(156284),n=_0x42c78b(556913);class s extends n[t(463)]{constructor(e){const n=t;super(),this[n(448)]=e}[t(582)](t){return t.offspringNumber/this.offspringNumber}[t(532)](e){const n=t;return e.offspringNumber>=this[n(448)]}}class r extends n[t(509)]{constructor(e,n){const s=t;super(),this[s(451)]=e,this._rate=n}get rate(){return this[t(514)]}get[t(388)](){return this._interval}}class o extends n[t(536)]{constructor(t,e){super(t,e)}}function i(e,n,s){return n in e?Object[t(455)](e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}class c extends n[t(442)]{constructor(e,n){const s=t;super(3*(e+1)),this._nodeCount=e,this[s(574)]=n,i(this,s(535),void 0),i(this,s(408),void 0),i(this,"_step",void 0),i(this,s(433),void 0),this[s(535)]=3,this._fitness=-1,this._step=0,this[s(433)]=0,this[s(555)]()}get[t(598)](){return this[t(558)]}get[t(454)](){return this[t(433)]}get fitness(){return this[t(408)]}set[t(569)](t){this._fitness=t}[t(397)](e,n,s){const r=t;this[r(408)]=e,this[r(558)]=n,this[r(433)]=s}createFromNodes(e){const s=t;this.createFromAcids(e.map((t=>new(n[s(431)])(t)))),this._nodeCount=e[s(420)]/this[s(535)]-1}[t(437)](){const e=t;return[...Array(this[e(559)]+1)[e(345)]()][e(406)]((t=>[...Array(this[e(535)])[e(345)]()].map((n=>Number(this[e(565)](t*this[e(535)]+n)[e(429)])))))}get[t(475)](){return this._nodeCount}[t(542)](){const e=t;return new c(this[e(475)],this[e(574)])}[t(418)](e){const s=t;return e%3==0?new(n[s(431)])(this[s(511)](e)):new n.Acid(this[s(591)]())}[t(511)](t){return 0===t?0:this.functions.getRandomIndex()}getConnection(){const e=t;return Math[e(428)](Math.random()*this[e(475)])+1}getNodeGenes(e){const n=t;return[...Array(this[n(535)])[n(345)]()][n(411)]((t=>this.getAcid(t+e*this[n(535)])))}[t(538)](e){const n=t,s=e;this[n(408)]=s[n(408)],this[n(558)]=s[n(558)],this._actionStep=s[n(433)]}}let a,u,h,d;a=Symbol[t(358)];class l{constructor(){var e,n,s;e=this,n=a,s=t(349),n in e?Object[t(455)](e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s}[t(525)](e,n,s){this[t(508)](e,n,s)}}u=Symbol[t(358)];class b extends l{constructor(e){const n=t;var s,r,o;super(),this[n(474)]=e,s=this,r=u,o=n(504),r in s?Object.defineProperty(s,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[r]=o}run(e,n,s){const r=t;s[r(402)]=s[r(486)][r(361)](this[r(474)])?e:n}functionExpression(e,n,s){const r=t;return s[r(486)][r(407)](this[r(474)])+" ? "}[t(379)](e,n,s){const r=t;return r(376)+e+r(572)+n}*[t(541)](t,e,n){yield t,yield e}}class f{static[t(562)](e,n,s){const r=t;let o=0,i=0,c=0;try{n.get()[r(405)]((t=>{const n=r,{score:a,step:u,actionStep:h}=f[n(352)](e,t,s);o+=a,i+=u,c+=h}))}catch(t){return{step:0,actionStep:0,fitness:0}}return{step:i/n[r(420)],actionStep:c/n[r(420)],fitness:o/n[r(420)]}}static next(e,n){const s=t;n[s(574)][s(489)](Number(e[0].value))[s(525)](Number(e[1].value),Number(e[2][s(429)]),n)}static[t(413)](e,n){const s=t;let r;do{const t=e[s(445)](n[s(402)]);r=n.functions[s(489)](Number(t[0][s(429)])),r.execute(Number(t[1].value),Number(t[2][s(429)]),n)}while(r instanceof b&&!n[s(486)][s(505)])}static[t(427)](e,n){const s=t;for(;!n[s(486)][s(505)];){const t=e[s(445)](n[s(402)]);f[s(391)](t,n)}}static getContext(e,n,s,r=0){return{game:n,current:r,nodeCount:e[t(475)],functions:s}}static[t(352)](e,n,s){const r=t,o=f[r(527)](e,n,s);return f.whileEnd(e,o),{step:o[r(486)][r(598)],actionStep:o[r(486)][r(454)],score:o[r(486)][r(373)]()}}static getPossibleNodes(e,n,s){const r=t,o=[],i=[];for(i.push(0);i[r(420)]>0;){const t=i[r(567)]();if(void 0===t)break;if(o[r(576)](t))continue;o[r(500)](t);const c=e[r(445)](t),a=s[r(489)](Number(c[0][r(429)]));for(const t of a.possibleConnections(Number(c[1][r(429)]),Number(c[2][r(429)]),{game:n}))i[r(500)](t)}return o}static[t(371)](e,n,s){const r=t,o={};return n.get()[r(405)]((t=>{const n=r,i=f[n(527)](e,t,s);for(;!i[n(486)][n(505)];){!(i.current in o)&&(o[i.current]=i[n(402)]);const t=e.getNodeGenes(i.current);try{f.next(t,i)}catch{break}}})),Object.values(o)}}class _ extends n[t(581)]{constructor(e,n){const s=t;super(),this[s(415)]=e,this.functions=n}[t(566)](e){const n=t,s=e,{step:r,actionStep:o,fitness:i}=f.runEpisodes(s,this.testDataset,this[n(574)]);s[n(397)](i,r,o)}}class x extends n.MutationBase{constructor(t){super(t)}}function p(e,n,s){return n in e?Object[t(455)](e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}class m extends n[t(392)]{constructor(e,n,s,r,i){const a=t;super(),p(this,a(408),void 0),p(this,a(387),void 0),p(this,"_population",void 0),this[a(408)]=new _(s,r),this[a(387)]=new x(n),this._population=new o(e,new c(i,r))}get[t(534)](){return this[t(524)]}get[t(569)](){return this[t(408)]}get[t(465)](){return this[t(387)]}}class g extends n[t(383)]{constructor(e,n,s,r,o){const i=t;var a,u,h;super(2,2*s,e),this[i(439)]=n,this.crossoverTime=s,a=this,u=i(459),h=[],u in a?Object[t(455)](a,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):a[u]=h,n>.5&&(this[i(439)]=1-n),this.mixProbability=Math[i(469)](Math[i(526)](this[i(439)],0),.5),[...Array(this[i(468)])][i(405)]((()=>{const t=i;this[t(459)][t(500)](new c(r,o))}))}[t(485)](e,n){const s=t,r=e[0],o=e[1];let i=0;return[...Array(this[s(423)])][s(405)]((()=>{const t=s,e=this[t(459)][i++],c=this[t(459)][i++];e[t(438)](r),c[t(438)](o),n>0&&Math.random()<n&&[...Array(r.length)[t(345)]()][t(405)]((n=>{const s=t;Math.random()<this.mixProbability&&(e.setAcid(n,o[s(565)](n)),c[s(450)](n,r.getAcid(n)))}))})),this._pool}}class v extends n[t(417)]{constructor(){super()}[t(589)](e,n,s){const r=t,o=[...n];o[r(500)](...s),o[r(432)](((t,e)=>(e[r(569)]??-1)-(t[r(569)]??-1)));const i=[...e];return i[r(500)](o.splice(0,1)[0]),i.push(this[r(460)](o)),i}[t(460)](e){const n=t,s=e.reduce(((t,e)=>t+(e[n(569)]??0)),0);let r=0;const o=Math[n(549)]()*s;for(const t of e)if(r+=t.fitness??0,r>=o)return t;throw new Error(n(586))}}class y extends n[t(456)]{}class w extends y{[t(589)](e){const n=t,s=[...e];return{parents:[this[n(557)](s),this[n(557)](s)],population:s}}}function O(e,n,s){return n in e?Object[t(455)](e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}class j extends m{constructor(e,n,s){const r=t;super(Math.floor(e[r(430)]/e[r(362)]),e[r(436)],s,n,e[r(475)]),O(this,r(467),void 0),O(this,r(492),void 0),O(this,r(529),void 0),this._crossover=new g(e[r(366)],e[r(439)],e[r(423)],e[r(475)],n),this[r(492)]=new v,this[r(529)]=new w}get crossover(){return this[t(467)]}get[t(544)](){return this._reinsertion}get selection(){return this[t(529)]}}class C extends n[t(383)]{constructor(e,n,s){const r=t;var o,i,a;super(2,2,e),o=this,i=r(459),a=[],i in o?Object[t(455)](o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,[...Array(this[r(468)])][r(405)]((()=>{this[r(459)].push(new c(n,s))}))}[t(485)](e,n){const s=t;let r=0;return e[s(405)]((t=>{const e=s;this[e(459)][r++][e(438)](t)})),this[s(459)]}}class N extends n[t(417)]{constructor(){super()}select(t,e,n){return[...t,...e]}}function A(e,n,s){return n in e?Object[t(455)](e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}class M extends m{constructor(e,n,s){const r=t;super(Math.floor(e[r(430)]/e.islandNumber),e.mutationProbability,s,n,e[r(475)]),A(this,"_crossover",void 0),A(this,r(492),void 0),A(this,r(529),void 0),this._selection=new w,this[r(467)]=new C(e[r(366)],e.nodeCount,n),this[r(492)]=new N}get[t(556)](){return this[t(467)]}get[t(544)](){return this[t(492)]}get[t(410)](){return this[t(529)]}}h=Symbol.toStringTag;class E extends l{constructor(...e){const n=t;var s,r,o;super(...e),s=this,r=h,o=n(494),r in s?Object[t(455)](s,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[r]=o}[t(508)](e,n,s){s[t(402)]=e}[t(501)](e,n,s){return t(494)}[t(379)](e,n,s){return t(347)+e}*[t(541)](t,e,n){yield t}}class S{constructor(){const e=t;var n,s,r;r=[],(s="functions")in(n=this)?Object[t(455)](n,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[s]=r,this[e(574)].push(new E)}get[t(420)](){const e=t;return this[e(574)][e(420)]}[t(489)](e){return this[t(574)][e]}[t(516)](e){const n=t;this.functions[n(500)](e)}[t(351)](){const e=t;return Math[e(428)](Math[e(549)]()*(this[e(420)]-1))+1}}d=Symbol[t(358)];class P extends l{constructor(e){const n=t;var s,r,o;super(),this[n(474)]=e,o="Action",(r=d)in(s=this)?Object[t(455)](s,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[r]=o}[t(508)](e,n,s){const r=t;s[r(486)][r(499)](this[r(474)]),s[r(402)]=e}functionExpression(e,n,s){const r=t;return s.game[r(359)](this[r(474)])}[t(379)](t,e,n){return"then goto "+t}*[t(541)](t,e,n){yield t}}class k extends S{[t(491)](e){const n=t;[...Array(e[n(357)][n(547)]).keys()].forEach((t=>{this[n(516)](new P(t))})),[...Array(e.gameSettings.perceptionNumber).keys()][n(405)]((t=>{this[n(516)](new b(t))}))}}class R{constructor(e,n){const s=t;this.length=e,this[s(560)]=n}[t(506)](){const e=t;return[...Array(this.length)].map((()=>this.adam[e(599)]()))}}class B{constructor(t){this.adam=t}createGame(){const e=t;return this[e(560)][e(488)]()}}var F=_0x42c78b(455140),I=_0x42c78b.n(F);const T=e=>{const n=t;_0x42c78b.g[n(400)]=_0x42c78b.g[n(400)]||{};const s=e[n(389)](/^#!.*/,"");return new(I()[n(472)])(s)[n(592)]()};function G(e,n){const s=t;var r=Object.keys(e);if(Object[s(446)]){var o=Object[s(446)](e);n&&(o=o.filter((function(t){const n=s;return Object[n(386)](e,t)[n(367)]}))),r[s(500)][s(461)](r,o)}return r}function z(e){const n=t;for(var s=1;s<arguments[n(420)];s++){var r=null!=arguments[s]?arguments[s]:{};s%2?G(Object(r),!0)[n(405)]((function(t){U(e,t,r[t])})):Object[n(551)]?Object[n(568)](e,Object[n(551)](r)):G(Object(r))[n(405)]((function(t){const s=n;Object[s(455)](e,t,Object[s(386)](r,t))}))}return e}function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class D extends e[t(435)]{constructor(e,n){const o=t;if(super(e),U(this,"_islands",void 0),U(this,o(360),void 0),U(this,o(477),void 0),U(this,o(381),void 0),U(this,"_game",void 0),U(this,"_dataset",void 0),this[o(426)]=[],!n[o(579)])return this[o(478)]=void 0,this[o(570)]=void 0,this[o(381)]=new k,this[o(360)]=new s(0),void(this[o(477)]=new r(0,0));const i=(a=n[o(579)],new(T(a)[t(466)])),c=new R(1,new B(i));var a;this[o(478)]=i,this[o(381)]=(t=>{const e=new k;return e.setFunctions(t),e})(i),this._termination=new s(n[o(443)]),this[o(477)]=new r(n[o(593)],n[o(493)]),this[o(570)]=c;const u=Math[o(428)](n[o(362)]*n[o(372)]),h=n.islandNumber-u;[...Array(h)][o(405)]((()=>{const t=o;this[t(426)].push(new j(n,this[t(381)],c))})),u>0&&[...Array(u)].forEach((()=>{this[o(426)].push(new M(n,this._functions,c))}))}get[t(515)](){return this[t(426)]}get[t(590)](){return this._migration}get[t(550)](){return this[t(360)]}[t(373)](){const e=t;if(!this[e(570)]||!this[e(478)]||!this[e(478)][e(357)][e(545)])return{fitness:-1,step:-1,actionStep:-1};const n=this[e(470)],{step:s,actionStep:r,fitness:o}=f[e(562)](n,this[e(570)],this[e(381)]);return{fitness:o,step:s,actionStep:r}}[t(371)](){const e=t;if(!this[e(570)])return[];const n=this[e(470)];return f[e(371)](n,this._dataset,this[e(381)])}async[t(479)](){const e=t;if(!this[e(478)])return{population:[],best:{nodes:[],usedNodes:[],fitness:-1,step:-1},progress:0,nodeCount:0};const n=this[e(470)],s=f.getPossibleNodes(n,this[e(478)],this[e(381)]);return{population:this[e(416)][e(411)]((t=>{const n=e,s=t;return{genes:[...Array(s.nodeCount+1)[n(345)]()][n(411)]((t=>s[n(445)](t).map((t=>t[n(429)])))),fitness:s.fitness,step:s.step,actionStep:s[n(454)]}})),best:z({nodes:s,usedNodes:await this[e(371)]()},await this[e(373)]()),progress:this[e(482)],nodeCount:n[e(475)]}}}_0x42c78b.g[t(498)]=class extends D{}})()})();